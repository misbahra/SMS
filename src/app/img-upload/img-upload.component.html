<div class=" row h3 p-3 header-bar1 hd-navy">
  Upload image
</div>
<div class="row border border-1">
<p class="is-invalid">{{messagetext}}</p>

<!--Card content-->
<div class="card-body  px-lg-5 pt-0">

   <!-- Form -->
   <form [formGroup]="dataForm" class="text-center" style="color: #757575;" action="submit">

      <div class="row mt-2">
         
         <div class="col">
            <div class="form-floating mb-3">

               <input type="text" id="title" name="title" class="form-control" placeholder="Title"
                  formControlName="title" [ngClass]="{ 'is-invalid':   submitted && fc.title.errors }">
               <label class="floatingInput " for="title">Title</label>

               <div *ngIf=" fc.title.invalid " class="invalid-feedback">
                  <div *ngIf="fc.title.errors.required">
                     Title is required
                 </div>

               </div>
            </div>
         </div>
         <!--close col -->
      </div>

      <div class="row mt-2">
         <div class="col">
            <div class="form-floating mb-3">

               <input type="text" id="desc" name="desc" class="form-control" formControlName="desc" placeholder="Desc"
                  [ngClass]="{ 'is-invalid':   submitted && fc.desc.errors }">
               <label class="floatingInput" for="desc">Desc</label>

               <div *ngIf=" fc.desc.invalid " class="invalid-feedback">
                  <div *ngIf="fc.desc.errors.required">
                     Desc is required
                  </div>

               </div>
            </div>
         </div>
         <!--close col -->

      </div>
      <div class="row">
         <div class="col">
            <div class="form-floating mb-3">

               <input type="number" id="price" name="price" class="form-control text-end"  
               placeholder="Item UID"
                  formControlName="price" [ngClass]="{ 'is-invalid':   submitted && fc.price.errors }">
               <label class="floatingInput " for="price">Price</label>

               <div *ngIf=" fc.price.invalid " class="invalid-feedback">
                  <div *ngIf="fc.price.errors.required">
                     Price is required
                  </div>

               </div>
            </div>
         </div>
         <!--close col -->
      
         <div class="col">
            <div class="form-floating mb-3">

               <input type="text" id="price_unit" name="price_unit" class="form-control" placeholder="Item UID"
                  formControlName="price_unit" [ngClass]="{ 'is-invalid':   submitted && fc.price_unit.errors }">
               <label class="floatingInput " for="price_unit">Price Unit</label>

               <div *ngIf=" fc.price_unit.invalid " class="invalid-feedback">
                  <div *ngIf="fc.price_unit.errors.required">
                     Price unit is required
                  </div>

               </div>
            </div>
         </div>
         <!--close col -->

         <div class="col text-start mt-3 mb-3">
            <div class="form-check form-switch">
   
               <input type="checkbox" id="show_price" name="show_price" class="form-check-input" placeholder=""
                  formControlName="show_price" [ngClass]="{ 'is-invalid':   submitted && fc.show_price.errors }">
                  <label class="form-check-label" for="show_price">Show Price</label>
   
               <div *ngIf=" fc.show_price.invalid " class="invalid-feedback">
                  <div *ngIf="fc.show_price.errors.required">
                     Show Price is required
                  </div>
   
               </div>
            </div>
         </div>
         <!--close col -->

      </div>

      <!-- // next row -->
      <div class="row">
         
         <div class="col text-start mt-3 mb-3">
            <div class="form-check form-switch">

               <input type="checkbox" id="active" name="active" class="form-check-input p-0" placeholder=""
                  formControlName="active" [ngClass]="{ 'is-invalid':   submitted && fc.active.errors }">
                  <label class="form-check-label p-0" for="active">Active</label>

               <div *ngIf=" fc.active.invalid " class="invalid-feedback">
                  <div *ngIf="fc.active.errors.required">
                     Active is required
                  </div>

               </div>
            </div>
         </div>
         <!--close col -->

         <div class="col text-start mt-3 mb-3">
            <div class="form-check form-switch">

               <input type="checkbox" id="is_in_stock" name="is_in_stock" class="form-check-input" placeholder=""
                  formControlName="is_in_stock" [ngClass]="{ 'is-invalid':   submitted && fc.is_in_stock.errors }">
                  <label class="form-check-label" for="is_in_stock">In Stock</label>

               <div *ngIf=" fc.is_in_stock.invalid " class="invalid-feedback">
                  <div *ngIf="fc.is_in_stock.errors.required">
                     Is in Stock is required
                  </div>

               </div>
            </div>
         </div>
         <!--close col -->

         <div class="col text-start mt-3 mb-3">
            <div class="form-check form-switch">

               <input type="checkbox" id="is_new" name="is_new" class="form-check-input" placeholder=""
                  formControlName="is_new" [ngClass]="{ 'is-invalid':   submitted && fc.is_new.errors }">
                  <label class="form-check-label" for="is_new">Is New</label>

               <div *ngIf=" fc.is_new.invalid " class="invalid-feedback">
                  <div *ngIf="fc.is_new.errors.required">
                     Is New is required
                  </div>

               </div>
            </div>
         </div>
         <!--close col -->

         <div class="col text-start mt-3 mb-3">
            <div class="form-check form-switch">
   
               <input type="checkbox" id="is_main_image" name="is_main_image" class="form-check-input" placeholder=""
                  formControlName="is_main_image" [ngClass]="{ 'is-invalid':   submitted && fc.is_main_image.errors }">
                  <label class="form-check-label" for="is_main_image">Is Main</label>
   
               <div *ngIf=" fc.is_main_image.invalid " class="invalid-feedback">
                  <div *ngIf="fc.is_main_image.errors.required">
                     Is main image is required
                  </div>
   
               </div>
            </div>
         </div>
         <!--close col -->
      

      <div class="col text-start mt-3 mb-3">
         <div class="form-check form-switch">

            <input type="checkbox" id="is_offer" name="is_offer" (change) = "onOfferChange()" class="form-check-input" placeholder=""
               formControlName="is_offer" [ngClass]="{ 'is-invalid':   submitted && fc.is_offer.errors }">
               <label class="form-check-label" for="is_offer">Is in Offer</label>

            <div *ngIf=" fc.is_offer.invalid " class="invalid-feedback">
               <div *ngIf="fc.is_offer.errors.required">
                  Is in offer is required
               </div>

            </div>
         </div>
      </div>
      <!--close col -->

   </div>
      
      <!-- // next row -->
      <div class="row" *ngIf = "(is_offer_visible)">

         <div class="col" >
            <div class="form-floating mb-3">

               <input type="select" id="offer_type" name="offer_type" class="form-select" formControlName="offer_type"
                  [ngClass]="{ 'is-invalid':   submitted && fc.offer_type.errors }">
               <label class="floatingInput " for="offer_type">Offer Type</label>

               <div *ngIf=" fc.offer_type.invalid " class="invalid-feedback">
                  <div *ngIf="fc.offer_type.errors.required">
                     Offer Type is required
                  </div>

               </div>
            </div>
         </div>
         <!--close col -->

         <div class="col">
            <div class="form-floating mb-3">

               <input type="number" id="discount_rate" name="discount_rate" class="form-control" placeholder="Discount Rate"
                  formControlName="discount_rate" [ngClass]="{ 'is-invalid':   submitted && fc.discount_rate.errors }">
               <label class="floatingInput " for="discount_rate">Discount Rate</label>

               <div *ngIf=" fc.discount_rate.invalid " class="invalid-feedback">
                  <div *ngIf="fc.discount_rate.errors.required">
                     Discount Rate is required
                  </div>

               </div>
            </div>
         </div>
         <!--close col -->

      </div>



      <div *ngIf = "(operation == '1')" class="row mt-3">
         <div class="row">
            <div class="col mb-2">
               <input class="form-control form-control-lg" id="formFileLg" type="file" (change)="onImagePicked($event)">
            </div>
         </div>

      </div>


      <!-- Submit button -->
      <div class=" mt-3 text-center">

         <button type="button" (click)="onSubmit()" class="btn btn-success btn-lg me-2">
            <i class="fa fa-cloud-upload pe-2"></i>
            Save</button>
         <button type="button" (click)="onCancel()" class="btn btn-info btn-lg">
            <i class="fa fa-chevron-circle-left pe-2"></i>
            Cencel</button>
      </div>

   </form>
   <!-- Form -->

</div>
</div>

<!-- <div class="container">
   <div class='row text-center' *ngIf="imageUrl">
      <h3> Preview Image from AWS</h3>
      <img width="200px" src="{{ imageUrl }}" />
   </div>
</div> -->