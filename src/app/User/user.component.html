
<div class="row  hd-navy header pt-2">
  <div class="col m-0 pe-2">
    <span >Manage Resources</span>
  </div>

  <div class="col m-0">
     <span class="pe-4 ">Selected User: {{rowDataClicked.name}}</span>
  </div>

  <div class="col text-start">
    <span class="spinner-border text-warning" *ngIf="(isBusy == true)"></span>
</div>
  <div class="col text-end">
    <a *ngIf="(userPrivs.update_allowed)" type="button" (click)="openUserDialog('2')">
      <span class="fa fa-pencil pe-3 text-warning"></span>
    </a>
    <a *ngIf="(userPrivs.insert_allowed)" type="button" (click)="openUserDialog('1')">
      <span class="fa fa-plus text-white pe-3"></span>
    </a>
    <a *ngIf="(userPrivs.delete_allowed)" type="button" (click)="deleteCustomer()">
      <span class="fa fa-trash text-danger"></span>
    </a>

  </div>
 
</div>
<div class="row p-0 m-0">
  <div class="col p-0 m-0">
<!-- <div [ngStyle]="style"> -->
  <ag-grid-angular 
        [pagination]="true" 
        [unSortIcon]="true"
        [animateRows]="true" 
        style="width: 100%; height:350px;" 
        class="ag-theme-alpine" 
        [rowData]="rowData"
        [columnDefs]="columnDefs" 
        (gridReady) = "onGridReady($event)"
        (rowSelected)="onRowSelected($event)"
        >
  </ag-grid-angular> 
</div>
 
</div>

<div *ngIf = "rowDataClicked._id" class="row pt-2">

  <div class="col-3">
    <div class="row">
      
        <div class="row  hd-navy header pt-2">
          <div class="col">
            <span >All Roles</span>
          </div>

          <div class="col text-end">
           
            <a *ngIf="(userPrivs.insert_allowed)" type="button" (click)="assignRole()">
              <span class="fa fa-arrow-circle-right text-success" text='Assign Role'></span>
            </a>
        
          </div>
         
        </div>
      
    </div>  

    <div class="row p-0 m-0">
      <div class="col p-0 m-0">
        <ag-grid-angular 
            [pagination]="true" 
            [unSortIcon]="true"
            [animateRows]="true" 
            style="width: 100%; height:400px;" 
            class="ag-theme-alpine" 
            [rowData]="avlRolesList"
            [columnDefs]="avlRolesColumnDefs" 
            (rowSelected)="onAvlRowSelected($event)"
            >
        </ag-grid-angular> 
      </div>
    </div>
  </div>

  <div class="col-3">
    <div class="row">
      
        <div class="row  hd-navy header pt-2 ">
          <div class="col-6 fs-6 ">
            <span >Asgnigned Roles</span>
          </div>
          <div class="col-2 text-start p-0">
            <span class="spinner-border text-warning" *ngIf="(isAssignedBusy == true)"></span>
        </div>
          <div class="col text-end ">
           
            <a *ngIf="(userPrivs.delete_allowed)" type="button" (click)="revokeRole()">
              <span class="fa fa-trash text-danger"></span>
            </a>
        
          </div>
         
        </div>
      
    </div>  

    <div class="row p-0 m-0">
      <div class="col p-0 m-0">
        <ag-grid-angular 
            [pagination]="true" 
            [unSortIcon]="true"
            [animateRows]="true" 
            style="width: 100%; height:400px;" 
            class="ag-theme-alpine" 
            [rowData]="assignedRoles"
            [columnDefs]="rolesColumnDefs" 
            (rowSelected)="onAssRowSelected($event)"
            >
        </ag-grid-angular> 
      </div>
    </div>
  </div>



  <div class="col">
    <div class="row">
      
        <div class="row  hd-navy header pt-2 ">
          <div class="col">
            <span >Permissions Summary</span>
          </div>
          <div class="col text-start">
            <span class="spinner-border text-warning" *ngIf="(isAssignedBusy == true)"></span>
        </div>
         
         
        </div>
      
    </div>  

    <div class="row p-0 m-0">
      <div class="col p-0 m-0">
        <ag-grid-angular 
            [pagination]="true" 
            [unSortIcon]="true"
            [animateRows]="true" 
            style="width: 100%; height:400px;" 
            class="ag-theme-alpine" 
            [rowData]="allPrivs"
            [columnDefs]="allPrivsColumnDefs" 
           
            >
        </ag-grid-angular> 
      </div>
    </div>
  </div>

    

</div>