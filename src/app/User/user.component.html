
<div class="row  hd-navy header pt-2">
  <div class="col">
    <span >Manage Resources</span>
    <span >Selected User: {{rowDataClicked.name}}</span>
  </div>
  <div class="col text-start">
    <span class="spinner-border text-warning" *ngIf="(isBusy == true)"></span>
</div>
  <div class="col text-end">
    <a *ngIf="(userPrivs.createAllowed == 'Y')" type="button" (click)="openUserDialog('2')">
      <span class="fa fa-pencil pe-3 text-warning"></span>
    </a>
    <a *ngIf="(userPrivs.createAllowed == 'Y')" type="button" (click)="openUserDialog('1')">
      <span class="fa fa-plus text-white pe-3"></span>
    </a>
    <a *ngIf="(userPrivs.createAllowed == 'Y')" type="button" (click)="deleteCustomer()">
      <span class="fa fa-trash text-danger"></span>
    </a>

  </div>
 
</div>
<div class="row p-0 m-0">
  <div class="col p-0 m-0">
<!-- <div [ngStyle]="style"> -->
  <ag-grid-angular 
        [pagination]="true" 
        [unSortIcon]="true"
        [animateRows]="true" 
        style="width: 100%; height:350px;" 
        class="ag-theme-alpine" 
        [rowData]="rowData"
        [columnDefs]="columnDefs" 
        (gridReady) = "onGridReady($event)"
        (rowSelected)="onRowSelected($event)"
        >
  </ag-grid-angular> 
</div>
 
</div>

<div *ngIf = "rowDataClicked._id" class="row pt-2">

  <div class="col">
    <div class="row">
      
        <div class="row  hd-navy header pt-2">
          <div class="col">
            <span >Available Roles</span>
          </div>

          <div class="col text-end">
           
            <a *ngIf="(userPrivs.createAllowed == 'Y')" type="button" (click)="assignRole()">
              <span class="fa fa-plus text-success"></span>
            </a>
        
          </div>
         
        </div>
      
    </div>  

    <div class="row p-0 m-0">
      <div class="col p-0 m-0">
        <ag-grid-angular 
            [pagination]="true" 
            [unSortIcon]="true"
            [animateRows]="true" 
            style="width: 100%; height:400px;" 
            class="ag-theme-alpine" 
            [rowData]="avlRolesList"
            [columnDefs]="avlRolesColumnDefs" 
            (rowSelected)="onAvlRowSelected($event)"
            >
        </ag-grid-angular> 
      </div>
    </div>
  </div>

  <div class="col">
    <div class="row">
      
        <div class="row  hd-navy header pt-2 ">
          <div class="col">
            <span >Assigned Roles</span>
          </div>
          <div class="col text-start">
            <span class="spinner-border text-warning" *ngIf="(isAssignedBusy == true)"></span>
        </div>
          <div class="col text-end">
           
            <a *ngIf="(userPrivs.createAllowed == 'Y')" type="button" (click)="revokeRole()">
              <span class="fa fa-trash text-danger"></span>
            </a>
        
          </div>
         
        </div>
      
    </div>  

    <div class="row p-0 m-0">
      <div class="col p-0 m-0">
        <ag-grid-angular 
            [pagination]="true" 
            [unSortIcon]="true"
            [animateRows]="true" 
            style="width: 100%; height:400px;" 
            class="ag-theme-alpine" 
            [rowData]="assignedRoles"
            [columnDefs]="rolesColumnDefs" 
            (rowSelected)="onAssRowSelected($event)"
            >
        </ag-grid-angular> 
      </div>
    </div>
  </div>


    

</div>